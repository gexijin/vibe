<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Working for Beginners</title>
    <style>
        :root {
            --bg: #0d1117;
            --card-bg: #161b22;
            --border: #30363d;
            --text: #e6edf3;
            --text-muted: #8b949e;
            --accent: #58a6ff;
            --accent-hover: #79b8ff;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .lang-switch {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 0.9rem;
        }

        .lang-switch a {
            color: var(--text-muted);
            text-decoration: none;
            padding: 0.25rem 0.5rem;
        }

        .lang-switch a:hover {
            color: var(--accent);
        }

        .lang-switch a.active {
            color: var(--accent);
            font-weight: 600;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .section {
            margin-bottom: 2.5rem;
        }

        .section h2 {
            font-size: 1.3rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .tutorial-list {
            margin: 0;
            padding-left: 1.5rem;
        }

        .tutorial-list li {
            margin-bottom: 0.5rem;
        }

        .tutorial-list a {
            color: var(--accent);
            text-decoration: none;
        }

        .tutorial-list a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Network Graph Styles */
        .graph-container {
            position: relative;
            margin-bottom: 2.5rem;
        }

        #network-graph {
            height: 400px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
        }

        /* Filter Buttons */
        .filter-controls {
            position: absolute;
            top: 12px;
            left: 16px;
            display: flex;
            gap: 6px;
            z-index: 10;
        }

        .filter-controls-right {
            position: absolute;
            top: 12px;
            right: 16px;
            display: flex;
            gap: 6px;
            z-index: 10;
        }

        .filter-btn {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            background: #21262d;
            border: 1px solid #6e7681;
            color: var(--text);
            font-size: 0.6rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            position: relative;
        }

        .filter-btn:hover {
            background: #30363d;
            border-color: var(--accent);
            transform: translateY(-1px);
        }

        .filter-btn::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: calc(100% + 6px);
            left: 50%;
            transform: translateX(-50%);
            background: #1c2128;
            color: var(--text);
            padding: 5px 8px;
            border-radius: 5px;
            font-size: 0.6rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.15s ease;
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            z-index: 1000;
        }

        .filter-btn:hover::after {
            opacity: 1;
        }

        /* Vis.js tooltip styling */
        .vis-tooltip {
            background: #1c2128 !important;
            color: var(--text) !important;
            border: 1px solid var(--border) !important;
            border-radius: 5px !important;
            padding: 5px 8px !important;
            font-size: 0.6rem !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif !important;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #d73a94 0%, #e856b0 100%);
            border-color: #d73a94;
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(215, 58, 148, 0.4);
        }

        .progress-counter {
            position: absolute;
            bottom: 12px;
            left: 16px;
            color: var(--text-muted);
            font-size: 0.85rem;
            margin: 0;
        }

        .learning-path-hint {
            position: absolute;
            bottom: 12px;
            right: 16px;
            color: var(--text-muted);
            font-size: 0.75rem;
            margin: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-align: right;
            line-height: 1.4;
        }

        .learning-path-hint.visible {
            opacity: 1;
        }

        /* Confetti canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            position: relative;
            text-align: center;
        }

        .modal-content h3 {
            color: var(--accent);
            margin-bottom: 0.75rem;
            font-size: 1.25rem;
        }

        .modal-content p {
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .modal-btn {
            display: inline-block;
            background: #f78166;
            color: #fff;
            padding: 0.4rem 0.9rem;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.85rem;
            transition: background 0.2s;
        }

        .modal-btn:hover {
            background: #ffa198;
        }

        .modal-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
        }

        .modal-btn-secondary {
            background: #21262d;
            color: var(--text);
            border: 1px solid var(--border);
            padding: 0.4rem 0.9rem;
            border-radius: 4px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .modal-btn-secondary:hover {
            background: #30363d;
            border-color: var(--accent);
        }

        .modal-btn-secondary.completed {
            background: #238636;
            border-color: #238636;
            color: white;
        }

        .modal-btn-secondary.completed:hover {
            background: #2ea043;
            border-color: #2ea043;
        }

        .modal-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
            padding: 0.25rem;
        }

        .modal-close:hover {
            color: var(--text);
        }

        @media (max-width: 600px) {
            #network-graph {
                height: 350px;
            }
        }
    </style>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="lang-switch">
                <a href="ja/">Êó•Êú¨Ë™û</a>
            </div>
            <h1>Claude Code for Babies</h1>
            <p class="subtitle">15-minute tutorials for Claude Code, a powerful AI for coding, research, & more</p>
        </header>

        <div class="graph-container">
            <div class="filter-controls">
                <button class="filter-btn active" id="filter-windows" data-platform="windows" data-tooltip="Show Windows tutorials">ü™ü Windows</button>
                <button class="filter-btn" id="filter-mac" data-platform="mac" data-tooltip="Show Mac tutorials">üçé Mac</button>
            </div>
            <div class="filter-controls-right">
                <button class="filter-btn active" id="filter-basics" data-type="basics" data-tooltip="Research and Writing. Start here.">Basic</button>
                <button class="filter-btn" id="filter-r" data-language="r" data-tooltip="R coding tutorials">üìä R</button>
                <button class="filter-btn" id="filter-python" data-language="python" data-tooltip="Python coding tutorials">üêç Python</button>
            </div>
            <div id="network-graph"></div>
            <p class="progress-counter" id="progress-counter"></p>
            <p class="learning-path-hint" id="learning-path-hint"> Click a topic to begin. Pick Windows or Mac.<br>Start with Basic, then choose R or Python.</p>
        </div>

        <section class="section">
        <p>&nbsp;&nbsp;&nbsp; Claude Code is a powerful AI coding assistant that can also automate research, writing, editing, and more.
             It runs locally in a folder on your computer, acting as a helpful sidekick under your guidance. </p>

        <p> &nbsp;&nbsp;&nbsp; Through hands-on activities, I introduce the core concepts and tools that unlock Claude Code‚Äôs full potential,
            including Git for version control, Visual Studio Code for coding and editing, WSL 
            (Windows Subsystem for Linux) for running on Windows, and Docker for isolated 
            development environments. </p>
        <p> &nbsp;&nbsp;&nbsp; Follow the learning path or pick tutorials that interest you!</p>  
        <br>
            <ol class="tutorial-list">
                <li><a href="Install_CLAUDE_Code_Win">Install Claude Code on Windows</a></li>
                <li><a href="Claude_Code_in_VS_Code_Win">Set Up VS Code for Claude Code on Windows</a></li>
                <li><a href="Claude_Code_Git_Windows">Claude Code with local version control for Windows</a></li>
                <li><a href="Install_Claude_Code_MacOS">Install Claude Code on Mac</a></li>
                <li><a href="Claude_Code_in_VS_Code_Mac">Use Claude Code from VS Code on Mac</a></li>
                <li><a href="Claude_Code_Git_Mac">Claude Code with local version control for Mac</a></li>
                <li><a href="VS_Code_Getting_Started">Get Started with VS Code</a></li>
                <li><a href="Github_desktop">Get Started with Version Control</a></li>
                <li><a href="R_Coding_VS_Code_Guide">Run R in VS Code</a></li>
                <li><a href="Python_Coding_VS_Code_Guide">Run Python in VS Code</a></li>
                <li><a href="R_Coding_Docker_Guide">R Coding in VS Code via Docker</a></li>
                <li><a href="Python_Coding_Docker_Guide">Python Coding in VS Code via Docker</a></li>
                <li><a href="GitHub_Desktop_Claude_Code_Workflow">Use GitHub Desktop with Claude Code</a></li>
                <li><a href="Vibe_Coding_R_Docker_Guide">Vibe Coding in R with Claude Code</a></li>
                <li><a href="Vibe_Coding_Python_Docker_Guide">Vibe Coding in Python with Claude Code</a></li>
                <li><a href="Writing_Research_Paper_Claude_Code">Write a Research Paper with Claude Code</a></li>
                <li><a href="Reuse_Prompts_via_Slash_Commands">Create Custom Slash Commands</a></li>
                <li><a href="Create_Your_First_Claude_Skill">Create Your First Claude Skill</a></li>
                <li><a href="Medical_Research_Skill">Create a Claude Skill for Medical Research</a></li>
                <li><a href="Creating_Stock_Picker_Agent">Creating an Agent in Claude Code</a></li>
                <li><a href="Claude_Code_RStudio_Mac">Using Claude Code with RStudio on Mac</a></li>
                <li><a href="Claude_Code_WSL_RStudio_Windows">Using Claude Code from WSL with RStudio on Windows</a></li>
                <li><a href="Claude_Code_R_VS_Code_Mac">Use Claude Code for R in VS Code on Mac</a></li>
                <li><a href="Claude_Code_Python_VS_Code_Mac">Use Claude Code for Python in VS Code on Mac</a></li>
            </ol>
        </section>

        <footer>
            <p>Vibe-created by <a href="https://www.linkedin.com/in/steven-ge-ab016947/">Steven Ge</a>, <a href="https://orditus.com">Orditus LLC</a>.  Feedback & Source on <a href="https://github.com/gexijin/vibe">GitHub</a></p>
        </footer>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Tutorial Modal -->
    <div id="tutorial-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h3 id="modal-title"></h3>
            <p id="modal-desc"></p>
            <div class="modal-buttons">
                <a id="modal-link" class="modal-btn">Start</a>
                <button id="modal-complete" class="modal-btn-secondary">Mark Complete</button>
            </div>
        </div>
    </div>

    <script>
        // Load completed tutorials from localStorage
        function getCompleted() {
            try {
                return JSON.parse(localStorage.getItem('completedTutorials')) || [];
            } catch {
                return [];
            }
        }

        function saveCompleted(completed) {
            localStorage.setItem('completedTutorials', JSON.stringify(completed));
        }

        function toggleComplete(id) {
            const completed = getCompleted();
            const index = completed.indexOf(id);
            if (index === -1) {
                completed.push(id);
            } else {
                completed.splice(index, 1);
            }
            saveCompleted(completed);
            return completed;
        }

        function isCompleted(id) {
            return getCompleted().includes(id);
        }

        // Confetti celebration
        const confettiCanvas = document.getElementById('confetti-canvas');
        const ctx = confettiCanvas.getContext('2d');
        let confettiPieces = [];
        let animationId = null;

        function resizeCanvas() {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        function randomColor() {
            const colors = ['#58a6ff', '#3fb950', '#a371f7', '#f78166', '#ffd700', '#ff6b6b', '#4ecdc4'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function createConfetti() {
            const pieces = [];
            for (let i = 0; i < 150; i++) {
                pieces.push({
                    x: Math.random() * confettiCanvas.width,
                    y: Math.random() * confettiCanvas.height - confettiCanvas.height,
                    size: Math.random() * 10 + 5,
                    color: randomColor(),
                    speed: Math.random() * 3 + 2,
                    angle: Math.random() * Math.PI * 2,
                    spin: (Math.random() - 0.5) * 0.2,
                    drift: (Math.random() - 0.5) * 2
                });
            }
            return pieces;
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

            confettiPieces.forEach(p => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.angle);
                ctx.fillStyle = p.color;
                ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 0.6);
                ctx.restore();

                p.y += p.speed;
                p.x += p.drift;
                p.angle += p.spin;
            });

            confettiPieces = confettiPieces.filter(p => p.y < confettiCanvas.height + 20);

            if (confettiPieces.length > 0) {
                animationId = requestAnimationFrame(drawConfetti);
            } else {
                ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            }
        }

        function celebrate() {
            if (animationId) cancelAnimationFrame(animationId);
            confettiPieces = createConfetti();
            drawConfetti();
        }

        // Tutorial data
        const tutorials = {
            1: { label: 'Install Claude\nCode (Win)', url: 'Install_CLAUDE_Code_Win', desc: 'Step-by-step guide to install Claude Code on Windows using WSL, Ubuntu, and Node.js', level: 0 },
            14: { label: 'Claude Code\nin VS Code (Win)', url: 'Claude_Code_in_VS_Code_Win', desc: 'Set up VS Code to work with Claude Code on Windows WSL‚Äîedit files visually while running AI in the terminal', level: 1 },
            11: { label: 'Claude Code\n+ Git (Win)', url: 'Claude_Code_Git_Windows', desc: 'Learn version control basics using Git locally with Claude Code‚Äîno GitHub account needed', level: 1 },
            2: { label: 'Install Claude\nCode (Mac)', url: 'Install_Claude_Code_MacOS', desc: 'Quick setup guide for Claude Code on macOS with Node.js and npm', level: 0 },
            15: { label: 'Claude Code\nin VS Code (Mac)', url: 'Claude_Code_in_VS_Code_Mac', desc: 'Set up VS Code to work with Claude Code on Mac‚Äîedit files visually while running AI in the terminal', level: 1 },
            12: { label: 'Claude Code\n+ Git (Mac)', url: 'Claude_Code_Git_Mac', desc: 'Learn version control basics using Git locally with Claude Code on Mac‚Äîno GitHub account needed', level: 1 },
            3: { label: 'VS Code\nBasics', url: 'VS_Code_Getting_Started', desc: 'Learn the fundamentals of Visual Studio Code‚Äîinstallation, interface navigation, extensions, and AI-powered coding with GitHub Copilot', level: 0 },
            4: { label: 'Version\nControl', url: 'Github_desktop', desc: 'Introduction to Git and GitHub Desktop for managing your code', level: 0 },
            5: { label: 'R in\nVS Code', url: 'R_Coding_VS_Code_Guide', desc: 'Set up R with code completion, plots, and Shiny app support in VS Code', level: 1 },
            6: { label: 'Python in\nVS Code', url: 'Python_Coding_VS_Code_Guide', desc: 'Set up Python with code completion, debugging, and Streamlit web apps', level: 1 },
            7: { label: 'R via\nDocker', url: 'R_Coding_Docker_Guide', desc: 'Run R in isolated, reproducible containers with pre-built Docker images', level: 2 },
            8: { label: 'Python via\nDocker', url: 'Python_Coding_Docker_Guide', desc: 'Run Python in isolated, reproducible containers with pre-built Docker images', level: 2 },
            9: { label: 'Claude Code\n+ GitHub Desktop', url: 'GitHub_Desktop_Claude_Code_Workflow', desc: 'Combine AI-assisted coding with professional version control workflows', level: 2 },
            10: { label: 'Vibe Coding\nin R', url: 'Vibe_Coding_R_Docker_Guide', desc: 'Build a real NBA stats dashboard using natural language requests‚Äîthe complete vibe coding experience', level: 3 },
            13: { label: 'Research Paper\nwith Claude', url: 'Writing_Research_Paper_Claude_Code', desc: 'Write research papers faster using Claude Code for research and drafting while Git tracks every version', level: 2 },
            16: { label: 'Vibe Coding\nin Python', url: 'Vibe_Coding_Python_Docker_Guide', desc: 'Analyze the Iris dataset using natural language requests‚Äîdescribe visualizations and watch them appear', level: 3 },
            17: { label: 'RStudio\n(Mac)', url: 'Claude_Code_RStudio_Mac', desc: 'Use Claude Code with RStudio on Mac‚Äîcreate R projects and enhance them with AI while RStudio runs your code', level: 2 },
            18: { label: 'RStudio\n(Windows)', url: 'Claude_Code_WSL_RStudio_Windows', desc: 'Use Claude Code from WSL with RStudio on Windows‚Äîbridge the gap between Windows RStudio and Linux-based AI assistance', level: 2 },
            19: { label: 'Claude Code\nfor R (Mac)', url: 'Claude_Code_R_VS_Code_Mac', desc: 'Use Claude Code AI assistant to write and improve R code in VS Code‚Äîask for plots, analysis, and code improvements', level: 3 },
            20: { label: 'Claude Code\nfor Python (Mac)', url: 'Claude_Code_Python_VS_Code_Mac', desc: 'Use Claude Code AI assistant to write and improve Python code in VS Code‚Äîask for plots, analysis, and code improvements', level: 3 },
            21: { label: 'Slash Commands', url: 'Reuse_Prompts_via_Slash_Commands', desc: 'Create reusable shortcuts for complex prompts‚Äîturn lengthy instructions into simple commands like /stock-report', level: 2 },
            22: { label: 'Claude Skill', url: 'Create_Your_First_Claude_Skill', desc: 'Build a Claude Skill that automatically activates based on context‚Äîupgrade from manual slash commands to AI-triggered capabilities', level: 2 },
            23: { label: 'Claude Skill for \nMedical Research', url: 'Medical_Research_Skill', desc: 'Create a specialized skill that searches PubMed and summarizes medical research papers in plain English', level: 2 },
            24: { label: 'Create an\nsubagent', url: 'Creating_Stock_Picker_Agent', desc: 'Build an autonomous agent that uses skills to complete complex tasks‚Äîcreate a stock picker that researches, scores, and recommends investments', level: 2 }
        };

        // Color scheme by level
        const levelColors = {
            0: { background: '#58a6ff', border: '#79b8ff' },  // Blue - Basic
            1: { background: '#3fb950', border: '#56d364' },  // Green - Intermediate
            2: { background: '#a371f7', border: '#bc8cff' },  // Purple - Advanced
            3: { background: '#f78166', border: '#ffa198' }   // Orange - Capstone
        };

        // Fixed positions for clean layout
        const positions = {
            // Level 1 - Basic 
            1: { x: 0, y: 0 },    // Install Claude Code Win
            2: { x: 0, y: 0 },      // Install Claude Code Mac

            // Level 2 - Minimum 
            17: { x: 120, y: 90 },   // RStudio (Mac)
            18: { x: 120, y: 90 },    // RStudio (Windows)
            11: { x: 120, y: -60 }, // Claude Code + Git (Win)
            12: { x: 120, y: -60 },  // Claude Code + Git (Mac)
            3: { x: 120, y: 30 },    // VS Code Basics

            // Level 3 - Intermediate I
            4: { x: 240, y: -100 },   // Version Control
            5: { x: 240, y: 80 },   // R in VS Code
            6: { x: 240, y: 80 },   // Python in VS Code
            14: { x: 240, y: 0 },  // Claude Code in VS Code (Win)
            15: { x: 240, y: 0 },  // Claude Code in VS Code (Mac)    

            // Level 4 - Intermediate II
            13: { x: 360, y: -60 },  // Research Paper with Claude
            9: { x: 360, y: -60 },    // GitHub Desktop + Claude
            19: { x: 360, y: 100 },   // Claude Code for R (Mac)
            20: { x: 360, y: 100 },    // Claude Code for Python (Mac)

            // Level 5 - Advanced
            21: { x: 500, y: -110 },  // Slash Commands
            22: { x: 500, y: -50 },  // Create Your First Skill
            23: { x: 500, y: 10 },    // Medical Research Skill
            24: { x: 500, y: 80 },    // Creating an Agent
            7: { x: 480, y: 40 },   // R via Docker
            8: { x: 480, y: 40 },   // Python via Docker
            10: { x: 500, y: -30 },   // Vibe Coding in R
            16: { x: 500, y: -30 }  // Vibe Coding in Python

        };

        // Get label with checkmark if completed
        function getNodeLabel(id, label) {
            return isCompleted(id) ? '‚úì ' + label : label;
        }

        // Get node color based on completion status
        function getNodeColor(id, level) {
            if (isCompleted(id)) {
                return {
                    background: '#484f58',
                    border: '#6e7681',
                    hover: { background: '#6e7681', border: '#8b949e' },
                    highlight: { background: '#6e7681', border: '#8b949e' }
                };
            }
            const base = levelColors[level];
            return {
                ...base,
                hover: { background: base.border, border: base.border },
                highlight: { background: base.border, border: base.border }
            };
        }

        // Create nodes with fixed positions
        const nodes = new vis.DataSet(
            Object.entries(tutorials).map(([id, t]) => ({
                id: parseInt(id),
                label: getNodeLabel(parseInt(id), t.label),
                title: 'Click to start learning',
                color: getNodeColor(parseInt(id), t.level),
                font: { color: isCompleted(parseInt(id)) ? '#e6edf3' : '#0d1117', size: 12, face: 'system-ui' },
                shape: 'box',
                margin: 8,
                shadow: true,
                x: positions[id].x,
                y: positions[id].y,
                fixed: { x: true, y: true }
            }))
        );

        // Update progress counter
        function updateProgress() {
            const completed = getCompleted();
            const counter = document.getElementById('progress-counter');

            // Count only visible tutorials
            const visibleNodes = nodes.get({
                filter: node => !node.hidden
            });
            const visibleTotal = visibleNodes.length;
            const visibleCompleted = completed.filter(id =>
                visibleNodes.some(node => node.id === id)
            ).length;

            if (visibleCompleted > 0) {
                counter.textContent = `${visibleCompleted}/${visibleTotal} completed`;
            } else if (visibleTotal < Object.keys(tutorials).length) {
                counter.textContent = `0/${visibleTotal} completed`;
            } else {
                counter.textContent = '';
            }
        }

        // Update node appearance when completion changes
        function updateNodeLabel(id) {
            const tutorial = tutorials[id];
            const completed = isCompleted(id);
            nodes.update({
                id: id,
                label: getNodeLabel(id, tutorial.label),
                title: 'Click to start learning',
                color: getNodeColor(id, tutorial.level),
                font: { color: completed ? '#e6edf3' : '#0d1117', size: 12, face: 'system-ui' }
            });
            updateEdgeColors();
            updateProgress();
        }

        // Edge definitions
        const edgeData = [
            { id: 'e1', from: 3, to: 5 },   // VS Code Basics ‚Üí R in VS Code
            { id: 'e2', from: 3, to: 6 },   // VS Code Basics ‚Üí Python in VS Code
            { id: 'e3', from: 5, to: 7 },   // R in VS Code ‚Üí R via Docker
            { id: 'e4', from: 6, to: 8 },   // Python in VS Code ‚Üí Python via Docker
            { id: 'e5', from: 1, to: 9 },   // Claude (Win) ‚Üí GitHub + Claude
            { id: 'e6', from: 2, to: 9 },   // Claude (Mac) ‚Üí GitHub + Claude
            { id: 'e7', from: 4, to: 9 },   // Version Control ‚Üí GitHub + Claude
            { id: 'e8', from: 7, to: 10 },  // R via Docker ‚Üí Vibe Coding
            { id: 'e9', from: 8, to: 10 },  // Python via Docker ‚Üí Vibe Coding
            { id: 'e10', from: 9, to: 10 }, // GitHub + Claude ‚Üí Vibe Coding
            { id: 'e11', from: 1, to: 11 }, // Claude (Win) ‚Üí Claude Code + Git (Win)
            { id: 'e12', from: 2, to: 12 }, // Claude (Mac) ‚Üí Claude Code + Git (Mac)
            // VS Code path: Install ‚Üí VS Code Basics ‚Üí Claude in VS Code ‚Üí Research Paper
            { id: 'e13', from: 1, to: 3 },   // Install (Win) ‚Üí VS Code Basics
            { id: 'e14', from: 2, to: 3 },   // Install (Mac) ‚Üí VS Code Basics
            { id: 'e15', from: 3, to: 14 },  // VS Code Basics ‚Üí Claude in VS Code (Win)
            { id: 'e16', from: 3, to: 15 },  // VS Code Basics ‚Üí Claude in VS Code (Mac)
            { id: 'e17', from: 14, to: 13 }, // Claude in VS Code (Win) ‚Üí Research Paper
            { id: 'e18', from: 15, to: 13 }, // Claude in VS Code (Mac) ‚Üí Research Paper
            { id: 'e19', from: 8, to: 16 },  // Python via Docker ‚Üí Vibe Coding in Python
            { id: 'e20', from: 9, to: 16 },  // GitHub + Claude ‚Üí Vibe Coding in Python
            { id: 'e21', from: 2, to: 17 },  // Install (Mac) ‚Üí RStudio (Mac)
            { id: 'e22', from: 1, to: 18 },  // Install (Win) ‚Üí RStudio (Windows)
            { id: 'e23', from: 5, to: 19 },  // R via Docker ‚Üí Claude Code for R (Mac)
            { id: 'e24', from: 6, to: 20 },   // Python in VS Code ‚Üí Claude Code for Python (Mac)
            { id: 'e25', from: 13, to: 21 },  // Research Paper ‚Üí Custom Slash Commands
            { id: 'e26', from: 21, to: 22 },  // Slash Commands ‚Üí Create Your First Skill
            { id: 'e27', from: 22, to: 23 },   // Create Your First Skill ‚Üí Medical Research Skill
            { id: 'e28', from: 23, to: 24 }   // Medical Research Skill ‚Üí Creating an Agent

        ];

        // Get edge color based on connected nodes completion
        function getEdgeColor(from, to) {
            const completedSet = new Set(getCompleted());
            const bothCompleted = completedSet.has(from) && completedSet.has(to);
            return {
                color: bothCompleted ? '#f85149' : '#30363d',
                hover: '#58a6ff'
            };
        }

        // Create edges (dependencies)
        const edges = new vis.DataSet(
            edgeData.map(e => ({
                ...e,
                arrows: 'to',
                color: getEdgeColor(e.from, e.to)
            }))
        );

        // Update edge colors based on connected node completion
        function updateEdgeColors() {
            edgeData.forEach(e => {
                edges.update({
                    id: e.id,
                    color: getEdgeColor(e.from, e.to)
                });
            });
        }

        // Initialize progress counter
        updateProgress();

        // Create network
        const container = document.getElementById('network-graph');
        const data = { nodes, edges };
        const options = {
            layout: {
                hierarchical: false
            },
            physics: false,
            interaction: {
                hover: true,
                dragNodes: true,
                zoomView: false,
                tooltipDelay: 0
            },
            edges: {
                color: { color: '#30363d', hover: '#58a6ff' },
                width: 2,
                smooth: { type: 'cubicBezier' }
            },
            nodes: {
                borderWidth: 2
            }
        };

        const network = new vis.Network(container, data, options);

        // Filter state
        let currentPlatform = 'windows';
        let currentLanguage = 'basics'; // null = all, 'r', 'python', 'basics'

        // Tutorial categorization
        const tutorialCategories = {
            windows: [1, 14, 11],      // Install Win, VS Code Win, Git Win
            mac: [2, 15, 12],          // Install Mac, VS Code Mac, Git Mac
            basics: [1, 2, 3, 14, 15, 11, 12, 13, 21, 22, 23, 24], // All install, VS Code Basics, VS Code platform, git, research paper, slash commands, skills, and agents tutorials
            r: [5, 7, 10],             // R in VS Code, R via Docker, Vibe Coding in R
            rstudio_mac: [17],         // RStudio (Mac)
            rstudio_windows: [18],     // RStudio (Windows)
            claude_code_r_mac: [19],   // Claude Code for R (Mac only)
            claude_code_python_mac: [20], // Claude Code for Python (Mac only)
            python: [6, 8, 16],        // Python in VS Code, Python via Docker, Vibe Coding in Python
            shared: [3, 4, 9, 13, 21, 22, 23, 24],     // VS Code Basics, Version Control, GitHub Desktop, Research Paper, Slash Commands, Skills, Agents (language-agnostic)
            coding: [3, 4, 5, 6, 7, 8, 9, 10, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24] // All coding tutorials
        };

        // Filter nodes based on current state
        function applyFilters() {
            const allNodes = Object.keys(tutorials).map(id => parseInt(id));
            let visibleNodes = [];

            if (currentLanguage === 'basics') {
                // Basics mode: show VS Code Basics + install/git/VS Code for selected platform + research paper + slash commands + skills + agents
                visibleNodes = [...tutorialCategories[currentPlatform], 3, 13, 21, 22, 23, 24];
            } else if (currentLanguage === 'r') {
                // R mode: show platform install + R tutorials + platform-specific RStudio + coding shared (no git, no research paper, no skills)
                const rstudioTutorial = currentPlatform === 'mac' ? tutorialCategories.rstudio_mac : tutorialCategories.rstudio_windows;
                const claudeCodeRTutorial = currentPlatform === 'mac' ? tutorialCategories.claude_code_r_mac : [];
                visibleNodes = [
                    tutorialCategories[currentPlatform][0], // Install only (first item)
                    ...tutorialCategories.r,
                    ...rstudioTutorial, // Add platform-specific RStudio tutorial
                    ...claudeCodeRTutorial, // Add Claude Code for R (Mac only)
                    3, 4, 9 // VS Code Basics, Version Control, GitHub Desktop (exclude Research Paper 13, Slash Commands 21, Skills 22, 23)
                ];
            } else if (currentLanguage === 'python') {
                // Python mode: show platform install + Python tutorials + coding shared (no git, no research paper, no skills)
                const claudeCodePythonTutorial = currentPlatform === 'mac' ? tutorialCategories.claude_code_python_mac : [];
                visibleNodes = [
                    tutorialCategories[currentPlatform][0], // Install only (first item)
                    ...tutorialCategories.python,
                    ...claudeCodePythonTutorial, // Add Claude Code for Python (Mac only)
                    3, 4, 9 // VS Code Basics, Version Control, GitHub Desktop (exclude Research Paper 13, Slash Commands 21, Skills 22, 23)
                ];
            } else {
                // All mode: show platform-specific basics + all coding tutorials
                visibleNodes = [
                    ...tutorialCategories[currentPlatform],
                    ...tutorialCategories.coding
                ];
            }

            // Update node visibility
            allNodes.forEach(id => {
                const isVisible = visibleNodes.includes(id);
                const node = nodes.get(id);

                if (isVisible) {
                    // Make node visible and interactive
                    nodes.update({
                        id: id,
                        hidden: false,
                        physics: false,
                        title: 'Click to start learning'
                    });
                } else {
                    // Hide node
                    nodes.update({
                        id: id,
                        hidden: true
                    });
                }
            });

            // Update edge visibility - only show edges between visible nodes
            edgeData.forEach(e => {
                const fromVisible = visibleNodes.includes(e.from);
                const toVisible = visibleNodes.includes(e.to);
                edges.update({
                    id: e.id,
                    hidden: !(fromVisible && toVisible)
                });
            });

            updateProgress();
        }

        // Filter button elements
        const filterWindows = document.getElementById('filter-windows');
        const filterMac = document.getElementById('filter-mac');
        const filterR = document.getElementById('filter-r');
        const filterPython = document.getElementById('filter-python');
        const filterBasics = document.getElementById('filter-basics');

        // Platform filter buttons
        filterWindows.addEventListener('click', () => {
            if (currentPlatform !== 'windows') {
                currentPlatform = 'windows';
                filterWindows.classList.add('active');
                filterMac.classList.remove('active');
                applyFilters();
            }
        });

        filterMac.addEventListener('click', () => {
            if (currentPlatform !== 'mac') {
                currentPlatform = 'mac';
                filterMac.classList.add('active');
                filterWindows.classList.remove('active');
                applyFilters();
            }
        });

        // Language filter buttons
        filterR.addEventListener('click', () => {
            if (currentLanguage !== 'r') {
                currentLanguage = 'r';
                filterR.classList.add('active');
                filterPython.classList.remove('active');
                filterBasics.classList.remove('active');
            } else {
                // Toggle off - show all
                currentLanguage = null;
                filterR.classList.remove('active');
            }
            applyFilters();
        });

        filterPython.addEventListener('click', () => {
            if (currentLanguage !== 'python') {
                currentLanguage = 'python';
                filterPython.classList.add('active');
                filterR.classList.remove('active');
                filterBasics.classList.remove('active');
            } else {
                // Toggle off - show all
                currentLanguage = null;
                filterPython.classList.remove('active');
            }
            applyFilters();
        });

        filterBasics.addEventListener('click', () => {
            if (currentLanguage !== 'basics') {
                currentLanguage = 'basics';
                filterBasics.classList.add('active');
                filterR.classList.remove('active');
                filterPython.classList.remove('active');
            } else {
                // Toggle off - show all
                currentLanguage = null;
                filterBasics.classList.remove('active');
            }
            applyFilters();
        });

        // Apply initial filters
        applyFilters();

        // Learning path hint on graph hover
        const learningPathHint = document.getElementById('learning-path-hint');
        const networkGraph = document.getElementById('network-graph');

        networkGraph.addEventListener('mouseenter', function() {
            learningPathHint.classList.add('visible');
        });

        networkGraph.addEventListener('mouseleave', function() {
            learningPathHint.classList.remove('visible');
        });

        // Modal elements
        const modal = document.getElementById('tutorial-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDesc = document.getElementById('modal-desc');
        const modalLink = document.getElementById('modal-link');
        const modalClose = document.querySelector('.modal-close');
        const modalComplete = document.getElementById('modal-complete');

        let currentNodeId = null;

        // Update complete button state
        function updateCompleteButton() {
            const completed = isCompleted(currentNodeId);
            modalComplete.textContent = completed ? '‚úì Completed' : 'Mark Complete';
            modalComplete.classList.toggle('completed', completed);
        }

        // Show modal on node click
        network.on('click', function(params) {
            if (params.nodes.length > 0) {
                currentNodeId = params.nodes[0];
                const tutorial = tutorials[currentNodeId];
                modalTitle.textContent = tutorial.label.replace('\n', ' ');
                modalDesc.textContent = tutorial.desc;
                modalLink.href = tutorial.url;

                updateCompleteButton();
                modal.classList.add('active');
            }
        });

        // Handle completion toggle
        modalComplete.addEventListener('click', function() {
            if (currentNodeId !== null) {
                const wasCompleted = isCompleted(currentNodeId);
                toggleComplete(currentNodeId);
                updateNodeLabel(currentNodeId);
                updateCompleteButton();

                // Celebrate when marking complete (not when unmarking)
                if (!wasCompleted) {
                    modal.classList.remove('active');
                    celebrate();
                }
            }
        });

        // Close modal
        modalClose.addEventListener('click', () => modal.classList.remove('active'));
        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.classList.remove('active');
        });
    </script>
</body>
</html>
