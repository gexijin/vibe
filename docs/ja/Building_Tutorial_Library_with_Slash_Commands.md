# 再利用可能なプロンプトでドキュメント作成を自動化

2025年12月中旬、研究アシスタントがClaude Codeをインストールするのを、Zoomで2時間かけて手伝いました。彼女のような人には、具体的で実践的な指示が必要だと気づき、Claude Code向けの包括的なチュートリアルを作成することにしました。目標は、完全な初心者を実際のタスクに段階的に導く、実践的で焦点を絞ったチュートリアルです。理論の詰め込みはなし。包括的なリファレンスマニュアルもなし。「これをして、次にこれをして」と、具体的な成果が得られるまで進めるだけです。

最初は数個のドキュメントから始まりましたが、すぐに100以上のチュートリアルを持つ多言語学習プラットフォームへと発展しました。秘訣は何だったのでしょうか。すべてを手動で書いたわけではありません。カスタムスラッシュコマンド（本質的には再利用可能なプロンプト）のセットを構築し、Claude Codeを自動ドキュメント生成工場に変えました。この工場は、私の実践的でステップバイステップのスタイルで一貫してチュートリアルを生成します。

## 課題

チュートリアルの作成は時間がかかります。それぞれが現在のベストプラクティスの調査、初心者向けの構造化された執筆、一貫したフォーマット、技術的正確性の検証、複数言語への翻訳、ツールの進化に伴う継続的なメンテナンスを必要とします。20以上のチュートリアルを3言語以上で手動で作成するには数週間かかるでしょう。

## 解決策：手動プロセスから自動スラッシュコマンドへ

重要な洞察：**理論的なワークフローではなく、実証済みのワークフローを自動化する**。

最初からスラッシュコマンドを設計したわけではありません。まず、最初の数個のチュートリアルをClaudeとの対話的なプロンプトで手動で作成し、反復を通じてプロセスを改良しました。その後、Claudeに動作するプロセスをスラッシュコマンドとして体系化するよう依頼しました。

これは私の[研究論文チュートリアル](./Writing_Research_Paper_Claude_Code)で説明しているパターンです。ワークフローを手動で実行し、最終ステップでClaudeに再利用可能なコマンドとして保存するよう依頼します。

その結果、チュートリアルのライフサイクル全体を処理する5つの専門的なスラッシュコマンドが生まれました。

### [`/tutorial`](../assets/commands/tutorial.md) - チュートリアルジェネレーター

複数のチュートリアルを対話的に作成した経験から生まれたこのコマンドは、実証済みのワークフローをキャプチャしています：

1. **調査**：Claudeがウェブで最新情報を検索します。古いバージョン番号や非推奨のメソッドはありません
2. **計画**：Claudeが学んだことを提示し、アプローチを推奨し、主要なステップの概要を示します
3. **反復**：私が計画をレビューし、満足するまでClaudeに複数回修正を促します
4. **執筆**：承認後、Claudeは厳格なフォーマットルールに従って執筆します：
   - 上部にホームリンク
   - 読者を引き込むフック
   - 主要概念
   - アクション動詞を使用したステップバイステップの指示
   - トラブルシューティングセクション
   - 作成日
5. **テスト**：別のターミナルで各ステップを実際にテストし、必要に応じて修正します
6. **仕上げ**：手動で編集する場合もあれば、Claudeに依頼する場合もあります

このコマンドはすべてのチュートリアルで一貫した構造を保証します。すべてのチュートリアルが同じ著者から来たように感じられます。なぜなら、同じ体系的なプロセスに従っているからです。基本的なGit操作から高度なDockerワークフローまで、20以上のチュートリアルを生成しました。

### [`/review-tutorial`](../assets/commands/review-tutorial.md) - 品質管理ボット

興味深いことがあります。私は単にClaudeに「チュートリアルをレビューするスラッシュコマンドを作成して」と依頼しただけです。詳細な仕様は示していません。Claudeは、30以上の品質基準をカテゴリに整理した包括的な3フェーズワークフローを生成しました：

- **コンテンツ品質**：タイトル、フック、主要概念、前提条件、ステップフロー、次のステップ、トラブルシューティング
- **フォーマット基準**：ホームリンク、ステップ見出し、箇条書き、太字/バッククォート、コードブロック、段落
- **初心者への配慮**：メニューベースの指示、プラットフォームの違い、正確なクリックターゲット、専門用語なし
- **技術的正確性**：正しいコマンド、最新のUI、現実的な時間見積もり
- **執筆品質**：文法、一貫した用語、簡潔な言葉

このコマンドは構造化されたレポートで発見事項を提示し、承認後に修正を適用します。なぜこれが必要だったのでしょうか。2つの理由があります。Claudeは常に`/tutorial`のルールに厳密に従うわけではなく、`/tutorial`コマンド自体もより多くのチュートリアルを構築するにつれて進化しました。レビューコマンドにより、以前のチュートリアルを最新の基準に一括で洗練できます。

### [`/translate-chinese`](../assets/commands/translate-chinese.md) & [`/translate-spanish`](../assets/commands/translate-spanish.md) - ローカライゼーションエンジン

興味深いことに、日本語翻訳が最初でした。スラッシュコマンドなしでです。私は単にClaude Codeにすべてのチュートリアルを日本語に翻訳するよう1つのプロンプトで依頼しました。Claudeは自動的に8つのサブエージェントを並列で起動し、それぞれが異なるチュートリアルを同時に処理しました。

その後の言語については、Claudeに「チュートリアルを中国語に翻訳するスラッシュコマンドを作成して」と依頼しただけです。具体的なガイドラインは示していません。Claudeは包括的なルールを持つ6フェーズワークフローを生成しました：

- **翻訳ルール**：コードブロック、技術用語（Git、Docker、VS Code）、ファイルパス、URLは英語のまま保持。指示テキスト、見出し、説明は翻訳
- **言語ガイドライン**：トーンとスタイルのルール、一般的な技術翻訳（Click = 点击、Install = 安装）、敬語の慣例
- **フォーマット要件**：ローカライズされたホームリンク、構造の維持、正しい句読点（中国語は。，！？、スペイン語は¿? ¡!）
- **品質レビュー**：自然な流れのチェックリスト、一貫した用語、適切な文字の使用

スラッシュコマンドの準備ができたら、Claude Codeにサブエージェントを使用してすべての25のチュートリアルを翻訳するよう依頼しました。全体の翻訳（2言語で50の新しいファイル）はわずか15分で完了しました。

結果：中国語、スペイン語、フランス語、ドイツ語、日本語のディレクトリ全体で81の翻訳チュートリアルファイル。すべて一貫した品質と構造を維持しています。

### [`/review-translation`](../assets/commands/review-translation.md) - 翻訳メンテナンスツール

チュートリアルは進化します。コマンドは変わります。新しいセクションが追加されます。このコマンドは4フェーズワークフローを通じて翻訳を同期させます：

1. **両方のバージョンを読む**：英語のオリジナルと翻訳を並べて読み込む
2. **比較と更新**：欠落しているセクション、古いコンテンツ、変更されたコマンドやURLを特定する
3. **品質レビュー**：翻訳の正確性、言語品質、フォーマットの一貫性をチェックする
4. **レポートと修正**：発見事項を提示し、承認を得て、更新を適用する

品質レビューは徹底的です。日本語の場合、自然な言い回し（逐語訳ではなく）、適切な敬語レベル（です/ます形）、正しい助詞の使用（は/が、を、に、で）、不自然なカタカナの過剰使用がないかをチェックします。英語のチュートリアルを更新したとき、言語品質を維持しながら、すべての翻訳に変更を素早く反映できました。

### 翻訳の自然な流れを磨く

英語原文と翻訳を同期した後、最終的な磨きのステップを追加しました：英語と比較せずに、各翻訳ドキュメント単独で言語品質を編集します。このステップは純粋に、ネイティブスピーカーにとってテキストが自然に読めるようにすることに焦点を当てています。

重要な洞察：**ターゲット言語でプロンプトを書く**。Claude に英語で「この日本語ドキュメントを磨いて」と頼む代わりに、ChatGPT を使ってプロンプトを日本語、中国語、またはスペイン語で書きました。これにより明らかに良い結果が得られました—指示もその言語で書かれていると、Claude はその言語でより自然に考えるようです。

例えば、中国語ドキュメントを磨くには：「修改 @docs/zh/ 目录下的中文文档。中文需要流畅、准确、言简意赅。提示词也要用中文。Use subagents。」スペイン語：「Revisa los documentos en @docs/es/. El español debe ser fluido, preciso y conciso. Use subagents.」日本語：「@docs/ja/ のドキュメントを修正してください。日本語は流暢で正確、簡潔にしてください。Use subagents。」

Opus 4.5 のようなより強力なモデルも効果があるようです。この磨きのステップにより、技術的には間違っていないが自然に聞こえない不自然な表現を見つけることができました。サブエージェントと組み合わせることで、各言語の25以上のドキュメントを1回のバッチ操作で磨くことができました。

## サブエージェントによるスケーリング

真の並列作業のために、Claudeのサブエージェント機能を使用しました。日本語翻訳を洗練させる際、複数のレビューエージェントを同時に起動し、19のファイルを協調的な改善で処理しました。

構造化されたワークフロー用のスラッシュコマンドと並列化用のサブエージェントの組み合わせにより、手動の努力では達成できなかったスケールのドキュメントパイプラインが作成されました。

## 結果

2週間未満で以下を作成しました：
- 初心者から中級者までのトピックをカバーする20以上の英語チュートリアル
- 3言語で81の翻訳チュートリアル
- 自動レビュープロセスによる一貫した品質
- 翻訳用の同期ツールによるメンテナンス可能なドキュメント

すべてのチュートリアルは同じ構造、執筆スタイル、フォーマット規約に従っています。なぜなら、同じ体系的なプロセスで生成されたからです。

## 重要な教訓

- **手動で始めて、その後自動化する** - まずタスクを手動で行い、プロセスを改良し、その後Claudeにコマンドとして保存するよう依頼します
- **コマンドをマルチフェーズワークフローとして構築する** - 何をするかだけでなく、問題をどう考え抜くかをClaudeに伝えます
- **品質管理をプロセスに組み込む** - 生成コマンドと一緒にレビューコマンドを作成します
- **コマンドを協調的にする** - 承認ステップを含めます。Claudeは面倒な部分を処理し、あなたは戦略的な決定を行います
- **バッチ処理にはサブエージェントを使用する。** 多数のドキュメントを処理する際は、プロンプトに明示的に「Use subagents」と記述してください。先に Shift+Tab を押して自動承認モードを有効にしておくと、サブエージェントは許可を求めないため、並列処理がスムーズになります。

## 結論

このチュートリアルライブラリを構築して学んだのは、自動化はプロセスから人間を排除することではなく、人間の判断を増幅することだということです。100以上のチュートリアルを手動で書いたわけではありませんが、すべてのチュートリアルは私の基準、私の構造、私の承認を反映しています。

スラッシュコマンドはClaude Codeを便利なアシスタントから、私の指示のもとで動作し、私の基準を維持し、プロジェクトのサイズに応じてスケールするドキュメント工場に変えました。

繰り返しのドキュメントタスクがあるなら、手動で続けないでください。一度スラッシュコマンドを構築し、それを何十回、何百回も活用してください。

それが体系的な自動化の力です。

---

*私が構築したスラッシュコマンドを見たいですか？[commandsフォルダ](../assets/commands/)をチェックしてください。完全なチュートリアルライブラリは[プロジェクトドキュメントサイト](https://github.com/gexijin/vibe/tree/main/docs)で利用できます。*

---

**追伸** このブログ投稿自体も、反復的なプロンプトを通じてClaude Codeが下書きしました：
1. 「コミット履歴をレビューして、これらのチュートリアルをどのように作成したかについてのブログ投稿を書いて。スラッシュコマンドを使用した自動化を強調して」
2. 「/tutorialコマンドがまず手動の対話的プロンプトから発展したことを反映して」
3. 「私のチュートリアルスタイルを強調して：実践的、焦点を絞った、ステップバイステップ」
4. 「日本語翻訳がスラッシュコマンドなしで最初に来て、Claudeが8つのサブエージェントを並列で使用したことを追加して」
5. 「Claudeが具体的なガイドラインなしで翻訳スラッシュコマンドを書いて、サブエージェントを使用して15分で25のチュートリアルを翻訳したことを追加して」
6. 「docs/assets/commandsに保存されたコマンドへのリンクを追加して」
7. 「箇条書きを減らして書き直して」
8. 「実際にスラッシュコマンドを読んで、詳細を追加して」
9. 「各ターンでの私たちのやり取りを要約して。このブログがどのように生成されたかについてのP.S.を追加して」

[Steven Ge](https://www.linkedin.com/in/steven-ge-ab016947/)により2025年12月15日作成。
