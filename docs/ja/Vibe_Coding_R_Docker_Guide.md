[ホーム](./)

# Claude CodeとDockerでRのVibe Coding

Vibe Codingはコンピュータとの会話のようなものです—結果を説明し、Claude Codeがそれを構築し、テストして改良します。魔法ではありません。あなたがビジョンを導き、AIが実装を処理する新しい作業方法です。このチュートリアルでは、自然言語リクエストだけを使って実際のNBA統計ダッシュボードを構築する方法を紹介します。

## 主要な概念

- **[Claude Code](https://code.claude.com/)** - 自然言語リクエストに基づいてコードを書き、デバッグし、リファクタリングするAIコーディングアシスタント
- **[hoopR](https://hoopr.sportsdataverse.org/)** - NBAプレイヤー統計とゲームデータへの簡単なアクセスを提供するRパッケージ
- **反復的改良** - コアのvibe codingパターン：説明 → テスト → 改良 → 動作バージョンをコミット

## 必要なもの

- [Docker経由でVS CodeでRコーディング](./R_Coding_Docker_Guide.md)を完了
- [GitHub DesktopとClaude Codeを使用](./GitHub_Desktop_Claude_Code_Workflow.md)を完了
- Docker Desktopがインストールされ、起動している
- 25〜30分

## ステップ1：新しいGitHubリポジトリを作成

- GitHub Desktopを開く
- **File > New Repository**をクリック
- 詳細を記入：
  - **Name：** `nba-dashboard`
  - **Description：** `vibe codingで構築したNBA統計ダッシュボード`
  - **Local Path：** 場所を選択（例：ドキュメントまたは作業フォルダ）
  - **Initialize this repository with a README**にチェック
- **Create Repository**をクリック
- 上部の**Publish repository**をクリック
- 公開したい場合は**Keep this code private**のチェックを外す（オプション）
- **Publish Repository**をクリック

ローカルGitリポジトリとGitHub上のバックアップができました。

## ステップ2：Docker設定をコピー

- https://github.com/gexijin/vibe にアクセス
  - **ARM64ユーザー向けの注意（Apple Silicon Mac）：** 代わりに https://github.com/gexijin/vibe/tree/ARM64 を使用
- **Code**をクリックしてZipをダウンロード
- エクスプローラー（Windows）またはFinder（Mac）を開く
- Downloadフォルダでファイルを解凍
- vibeプロジェクトフォルダに移動（例：`Documents/vibe`）
- `.devcontainer`フォルダを見つける
- フォルダ全体をコピー（`Dockerfile`と`devcontainer.json`が含まれています）
- 新しい`nba-dashboard`フォルダに移動
- `.devcontainer`フォルダを貼り付け

`nba-dashboard`フォルダには以下が含まれるはずです：
- `.devcontainer/`（コピーしたフォルダ）
- `README.md`（GitHub Desktopが作成）
- `.git/`（バージョン管理用の隠しフォルダ）

## ステップ3：コンテナでプロジェクトを開く

- WindowsまたはMacから**Docker Desktop**アプリを起動。バックグラウンドで実行させる
- VS Codeを開く
- **ファイル > フォルダーを開く**をクリック
- `nba-dashboard`フォルダに移動
- **フォルダーの選択**（Windows）または**開く**（Mac）をクリック
- 右下に通知が表示されます：**Folder contains a Dev Container configuration file**
- **Reopen in Container**をクリック
- 通知が表示されない場合は、左下隅の緑色のアイコンをクリックして**Reopen in Container**を選択
- VS CodeがDockerコンテナをビルドします（初回は3〜5分かかります）
- ビルドステップを示す進行通知を見る
- 完了すると、緑色のアイコンに**Dev Container: R in Docker**と表示されます

## ステップ4：Claude Codeを起動

- VS Codeで**ターミナル > 新しいターミナル**をクリック
- これでDockerコンテナ内にいます
- このコマンドを入力してClaude Codeを起動：

```bash
claude
```

- 認証用のブラウザウィンドウが開きます
- **Continue with Google**または**Continue with Email**をクリック
- Claudeアカウントでログイン（または作成）
- 認証が成功したら、VS Codeターミナルに戻る
- Claudeのウェルカムメッセージが表示されます

Claude Codeが実行中で、リクエストの準備ができました。

## ステップ5：最初のVibe - NBAデータを取得

ここからが楽しい部分です。ドキュメントを調べる代わりに、欲しいものを説明するだけです。

- Claude Codeターミナルで入力：

```
hoopRパッケージをインストールして、現在のNBAプレイヤー統計を読み込んで。今シーズンの総得点でトップ10のプレイヤーを表示して。きれいなテーブルで表示して。
```

- Enterを押す
- Claudeを見る：
  - hoopRパッケージをインストール
  - データを読み込むRコードを書く
  - トップスコアラーを表示するスクリプトを作成
  - コードを実行
- プレイヤー名、チーム、得点を表示する出力を確認

vibe codingを使いました！ドキュメント検索も試行錯誤もなし—説明してテストするだけ。

**進捗を保存：** Claudeに依頼してGitでコミットするか、GitHub Desktopから自分で行います：
```
これらの変更をコミットして。
```

## ステップ6：2番目のVibe - データを探索

ダッシュボードを構築する前に、どんなデータがあるか理解しましょう。

- Claude Codeターミナルで入力：

```
このNBAデータで利用可能な列を見せて。それから要約を作成して：プレイヤー数、チーム数、プレイヤーあたりの平均得点、最多アシストとリバウンドは誰か。
```

- Enterを押す
- Claudeがデータセットを探索して興味深い統計を表示
- 利用可能な列を見る：player_name、team、points、assists、rebounds、field_goal_percentageなど

この探索によりダッシュボードに何を入れるか決められます。

**進捗を保存：** Claudeに依頼してコミットするか、GitHub Desktopを使用します。

## ステップ7：3番目のVibe - 基本的なShinyアプリを作成

対話型ダッシュボードを構築する時間です。

- Claude Codeターミナルで入力：

```
NBAプレイヤー統計の対話型テーブルを表示するShinyアプリをapp.Rというファイルで作成して。プレイヤー名、チーム、得点、アシスト、リバウンドの列を含めて。最小得点（0から1000）でプレイヤーをフィルタリングするスライダーを追加して。クリーンでプロフェッショナルに見えるようにして。
```

- Enterを押す
- Claudeが完全なShinyアプリケーションを含む`app.R`を作成
- Claudeがファイルを書き終わるのを待つ

## ステップ8：Shinyアプリを実行

ダッシュボードが動作するかテストしましょう。

- VS Codeエディターの右上を見る（`app.R`が開いている場所）
- ドロップダウン矢印付きの**▶**ボタンを見つける
- ドロップダウンをクリックして**Run Shiny App**を選択
- アプリが起動し、通知が表示されます：**Open in Browser**
- **Open in Browser**をクリック
- NBAダッシュボードがWebブラウザで開きます
- 得点スライダーを動かしてみる—テーブルがリアルタイムでフィルタリングされます
- プレイヤーデータをスクロール
- アプリが動作したら変更をコミット

何か動作しない場合は、エラーメッセージをコピーしてClaudeに貼り付けて修正してもらいましょう。

## ステップ9：4番目のVibe - 可視化を追加

テーブルは便利ですが、可視化はより良いストーリーを伝えます。

- Claude Codeターミナルに戻って入力：

```
テーブルの下に得点でトップ15のプレイヤーを表示する棒グラフを追加して。各プレイヤーに異なる色を使用して。また、フィルタリングされたすべてのプレイヤーの得点とアシストの関係を示す散布図も追加して。
```

- Enterを押す
- Claudeが`app.R`を可視化コードで更新
- **Run Shiny App**を再度クリックしてアプリをリロード
- ブラウザを更新
- カラフルな棒グラフと散布図が表示されます
- スライダーを動かす—すべての可視化が一緒に更新されます

これがvibe codingの実践：機能を説明し、テストし、反復。

## ステップ10：5番目のVibe - チームフィルターを追加

チーム選択でダッシュボードをより対話的にしましょう。

- Claude Codeターミナルで入力：

```
チームでプレイヤーをフィルタリングするドロップダウンメニューを追加して。上部に配置して。チームを選択すると、そのチームのプレイヤーだけを表示して。全員を表示する「All Teams」オプションも含めて。
```

- Enterを押す
- Claudeがチームフィルターを追加
- ブラウザを更新
- ドロップダウンをテスト—Lakers、Warriors、Celticsなど異なるチームを選択
- テーブルとチャートが各チームごとに更新されるのを見る

会話をしながらプロフェッショナルなダッシュボードを構築しています。

## ステップ11：確認してコミット

コミットする前に、Claudeが構築したものを確認しましょう。

- VS Codeエクスプローラーで`app.R`をクリックして開く
- コードをざっと見る—UIレイアウト、サーバーロジック、プロッティングコードに注目
- 全ての行を理解する必要はありませんが、構造の感覚をつかむ
- GitHub Desktopを開く
- `app.R`が新しいファイルとしてリストされている
- 右パネルにすべてのコードが緑色で表示（新規追加）
- 左下の**Summary**フィールドに入力：

```
チームフィルターと可視化付きのNBAダッシュボードを作成
```

- **Commit to main**をクリック
- **Push origin**をクリックしてGitHubにバックアップ

最初の動作バージョンを保存しました！

## ステップ12：反復して改善

vibe codingは反復するときに輝きます。説明して機能を追加してみましょう：

**Claudeへのリクエスト例：**

- 「プレイヤー名を入力してジャンプできるプレイヤー検索ボックスを追加して」
- 「ドロップダウンのチーム名の横にチームロゴを表示して」
- 「選択したチームの試合ごとの得点トレンドを示す折れ線グラフを追加して」
- 「列ヘッダーをクリックしてソートできる棒グラフにして」
- 「散布図にホバーするとプレイヤー名を表示するツールチップを追加して」

各成功した機能の後：
- ブラウザでテスト
- 動作したら、GitHub Desktopでコミット
- 壊れたら、Claudeにエラーを伝えて修正を依頼
- 修正されたら、動作バージョンをコミット


**重要な原則：**

- **実装ではなく結果を説明** - 「arrange()とhead()を使って」ではなく「トップスコアラーを見せて」と言う
- **素早く反復** - テスト → 改良 → テスト → 改良
- **動作バージョンをコミット** - 新機能を試す前に各成功を保存
- **失敗を受け入れる** - Claudeのコードが壊れたら、エラーを説明して修正を依頼
- **コントロールを維持** - あなたが機能、優先順位、いつ十分かを決める

毎回、パターンに従う：説明 → テスト → 反復 → コミット。

## 次のステップ

- **自分の領域に適用** - 自分のデータ（研究、ビジネス、趣味）にvibe codingを使用
- **他のパッケージを試す** - Claudeにフットボール用の`nflfastR`やサッカー用の`worldfootballR`を使うよう依頼
- **質問して学ぶ** - Claudeがコードを書いたとき、「この関数は何をするか説明して」と聞いてRを学ぶ
- **ダッシュボードを共有** - [shinyapps.io](https://www.shinyapps.io/)にデプロイ（Claudeに方法を聞く）
- **vibe codingについて読む** - [IBMのガイド](https://www.ibm.com/think/topics/vibe-coding)を訪問してこのコーディングスタイルについて詳しく学ぶ

## トラブルシューティング

- **hoopRインストールが失敗** - インターネット接続を確認。パッケージはウェブからデータをダウンロードします。Rターミナルで`install.packages("hoopR")`を実行して詳細なエラーメッセージを確認。
- **Shinyアプリが起動しない** - Shiny拡張機能がインストールされていることを確認（VS Code拡張機能で「Posit.shiny」を検索）。ターミナルでエラーメッセージを確認してClaudeに貼り付け。
- **データが表示されない** - hoopRパッケージはライブデータを取得します。NBAシーズンが始まっていない場合、データが限られている可能性があります。Claudeにサンプルデータまたは前のシーズンを使うよう依頼。
- **Claudeが間違える** - 正常です！エラーメッセージをコピーし、Claudeに貼り付けて「このエラーを修正して」と言ってください。Vibe codingには反復とデバッグが含まれます。
- **GitHubにプッシュできない** - GitHub Desktopにログインし、リポジトリを公開したことを確認してください（ステップ1）。インターネット接続を確認してください。

## ワークフロー概要

このチュートリアルでは、複数の技術を1つのワークフローに組み合わせました：

- **GitHub Desktop** - ビジュアルインターフェースでのバージョン管理（リポジトリ作成、コミット、プッシュ）
- **Dockerコンテナ** - すべての依存関係がプリインストールされた隔離されたR環境
- **VS Code** - Dockerコンテナに接続するコードエディター
- **Claude Code** - 説明からRとShinyコードを書くAIアシスタント
- **hoopRパッケージ** - シンプルなAPIを持つNBAデータソース
- **Shinyフレームワーク** - Rでの対話型Webアプリ

魔法は単一のツールではありません—vibe codingにより欲しいものを説明して素早く反復できることです。空のプロジェクトから動作するスポーツダッシュボードまで、手動で1行もコードを書かずに30分で達成しました。

## 日常のワークフロー

この初期セットアップの後、日々のvibe codingルーティンは以下の通りです：

1. **Docker Desktopを起動** - アプリを起動し、緑色のステータスを待つ
2. **VS Codeを開く** - プロジェクトを開き、必要に応じてコンテナで再度開く
3. **Claude Codeを起動** - ターミナルで`claude`と入力
4. **目標を説明** - 「...する機能を追加して」または「...のバグを修正して」
5. **変更をテスト** - アプリを実行し、動作するか確認
6. **反復またはコミット** - 壊れたら修正を説明。動作したらGitHub Desktopでコミット
7. **定期的にプッシュ** - **Push origin**をクリックしてGitHubにバックアップ

練習するほど、欲しいものを説明するのが上手になります。Vibe codingはスキルです—どんな説明が最もうまくいくか、大きなアイデアをテスト可能な部分に分割する方法を学びます。

---

[Steven Ge](https://www.linkedin.com/in/steven-ge-ab016947/)が2025年12月7日に作成。
