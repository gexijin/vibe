[ホーム](./)

# カスタムスラッシュコマンドを作成

同じ詳細なプロンプトを何度も入力するのにうんざりしていませんか？カスタムスラッシュコマンドを使えば、複雑な指示を再利用可能なショートカットとして保存できます。最も頻繁に行うタスクのキーボードショートカットを作成するように、スラッシュコマンドは長いプロンプトを`/stock-report Apple`のような簡単なコマンドに変え、包括的なレポートを即座に生成します。

最高の部分は？Claudeを使って詳細なプロンプトを書き、スキルを作成します。はい、Claudeは自分自身へのプロンプト作成がとても得意なのです。

## 主要な概念

- **スラッシュコマンド** - `/command-name`と入力したときにClaude Codeが実行する、Markdownファイルとして保存された再利用可能なプロンプト
- **引数** - 特別な`$ARGUMENTS`キーワードを使用してコマンドに渡す変数（株式ティッカーなど）
- **`.claude/commands/`フォルダ** - Claude Codeが自動的にカスタムコマンドを検出して読み込む場所

## 必要なもの

- [WindowsでVS CodeでClaude Code](./Claude_Code_in_VS_Code_Win.md)または[MacでVS CodeでClaude Code](./Claude_Code_in_VS_Code_Mac.md)を完了していること
- 調査するトピック（例として株式レポートを使用します）
- VS Codeなどのテキストエディタがインストールされていること
- 15〜20分

## ステップ1：プロジェクトフォルダを作成

**Windows（WSL）：**
- スタートメニューから**Ubuntu**を開く
- 次のコマンドを入力：
  ```bash
  cd /mnt/c/Users/YOUR_USERNAME/Documents
  mkdir test_claude
  cd test_claude
   ```
  `YOUR_USERNAME`をWindowsのユーザー名に置き換えてください

**Mac：**
- **ターミナル**を開く（アプリケーション > ユーティリティにあります）
- 次のコマンドを入力：
  ```bash
  cd ~/Documents
  mkdir test_claude
  cd test_claude
  ```

## ステップ2：Claude Codeを起動

**Windows（WSL）：**
- Ubuntuターミナルで次を入力：
  ```
  claude
  ```

**Mac：**
- ターミナルで次を入力：
  ```
  claude
  ```

Claude Codeが起動し、ウェルカムメッセージが表示されます。

## ステップ3：Claudeにスラッシュコマンドの作成を依頼

手動でファイルを作成する代わりに、Claudeに作業させましょう。次のプロンプトを入力：

```
stock-reportというスラッシュコマンドを作成してください。これは名前またはティッカーシンボルで
識別される企業の最近の動向に関するレポートを生成します。
含めるもの：
- 製品またはサービスのニュース
- 経営陣のニュース
- 最近の財務報告
- アナリストレポート
```
尋ねられたら、Claudeにファイル作成の許可を与えます。
Claudeは詳細なプロンプトを作成し、`.claude/commands/`フォルダに`stock-report.md`として保存します。

**注：** プロンプト、レポート、スラッシュコマンドのすべてでMarkdown形式を使用します。MarkdownはAIに優しく、プレーンテキストファイルとして簡単に編集できます。

## ステップ4：コマンドを確認

テキストエディタを使用して、`.claude/commands/`フォルダから`stock-report.md`ファイルを開きます。これがスラッシュコマンドのプロンプトです。

VS Codeをインストールしている場合（推奨）：
- VS Codeを起動
- **ファイル**から**フォルダを開く**を選択し、プロジェクトフォルダ`Documents/test_claude`を選択
- ファイルエクスプローラから`.claude/commands`に移動し、`stock-report.md`ファイルをクリックして開く

プロンプトを確認し、必要に応じて指示を変更します。

**注：** Claudeはプロンプトの作成が驚くほど得意です。そのプロンプトがmarkdown形式を使用して適切に構造化され、明確に書かれていることがわかります。このようなプロンプトの書き方を学びましょう。時には識別子が曖昧な場合に明確化を求める指示さえ含まれています。

## ステップ5：コマンドをテスト

まず、**Ctrl+C**を2回押して現在のClaude Codeセッションを**終了**します。次に、新しいスラッシュコマンドが読み込まれるようにClaudeを再起動します：
  ```
  claude
  ```
実際の株式ティッカーで新しいコマンドをテストします：

```
/stock-report Apple
```

Claudeがウェブを検索し、Apple Inc.に関する包括的なレポートを生成します。これには1〜2分かかる場合があります。

## ステップ6：生成されたレポートを確認

Claudeがコマンドラインにレポートを作成します。出力を確認します：

- 各セクションに関連する最新の情報があることを確認
- 情報源が信頼できて最近のものであることを確認
- Claudeが情報をどのように整理したかに注目

## ステップ7：レポートをファイルに保存

スラッシュコマンドを変更して、レポートを自動的にmarkdownファイルとして保存するようにしましょう。スラッシュコマンドのmarkdownファイルに手動で追加します。

- `.claude/commands/`フォルダから`stock-report.md`ファイルを開く
- 最後に次を追加：
  ```
  レポートをmarkdownファイルとして保存してください。ファイル名には企業名と日付を含めます。
  ```
- ファイルを保存。

## ステップ8：コマンドを再実行

- まず、**Ctrl+C**を2回押して現在のClaude Codeセッションを**終了**します。次に、新しいスラッシュコマンドが読み込まれるようにClaudeを再起動します：
  ```
  claude
  ```
- 実際の株式ティッカーで新しいコマンドをテストします：

  ```
  /stock-report AAPL
  ```
- レポートを開く

Claudeがレポートを生成し、`Apple_2025-12-13.md`のような名前のmarkdownファイルとして保存します。VS Codeでファイルをクリックして表示します。

## ステップ9：Claudeを通じてコマンドを変更

Claudeにスラッシュコマンドの編集を依頼できます：

```
stock-reportスラッシュコマンドを修正して、レポートをhtmlファイルとして保存するようにしてください。
```

Claudeがコマンドファイルを更新します。エディタから確認できます。

## ステップ10：更新されたコマンドをテスト

- まず、**Ctrl+C**を2回押して現在のClaude Codeセッションを**終了**します。次に、新しいスラッシュコマンドが読み込まれるようにClaudeを再起動します：
  ```
  claude
  ```

- 拡張されたコマンドをテスト：

  ```
  /stock-report AAPL
  ```

Claudeが`Apple_2025-12-13.html`のような名前のファイルを作成します。WindowsまたはMacのファイルエクスプローラからこのファイルをクリックして、デフォルトのブラウザで開きます。

## ステップ11：スラッシュコマンドを再利用（オプション）

スラッシュコマンドの`$ARGUMENTS`キーワードはプレースホルダーとして機能します。`/stock-report AAPL`と入力すると、Claudeはプロンプトを実行する前に`$ARGUMENTS`を`AAPL`に置き換えます。

別のティッカーを試してみましょう：

```
/stock-report TSLA
```

同じコマンド構造で、今度はTeslaを調査します。

## ステップ12：別のスラッシュコマンドを試す（オプション）

[研究論文を書く](./Writing_Research_Paper_Claude_Code.md)チュートリアルを完了している場合、`/research-paper`コマンドがあるはずです。新しいトピックでテストしてください。

まず、Claudeのメモリをクリアして新しく始めます：

```
/clear
```

次に、研究論文コマンドを実行します：

```
/research-paper 学校でのAI
```

2つの主な違い：
- /research-paperは人間のインタラクションをキャプチャすることでセッションの最後に作成されましたが、/stock-reportはゼロから作成されます。
- /research-paperは論文を下書きする前に対話的に入力を求めます。

## 次のステップ

スラッシュコマンドを理解したので、ワークフロー用にさらにカスタムコマンドを作成しましょう：

- **コードレビュー：** `/review-code` - バグと改善点についてコードを分析
- **会議メモ：** `/meeting-summary` - 構造化された会議の要約を生成
- **メール下書き：** `/email-reply` - プロフェッショナルなメール返信を作成

## トラブルシューティング

- **コマンドが見つからない：** `.claude/commands/`からコマンドを再読み込みするためにClaude Codeを再起動します
- **引数が機能しない：** コマンドファイルで`$ARGUMENTS`のスペルが正しいか確認します（大文字と小文字を区別）
- **レポートが不完全：** Claudeに「続けて」または「[セクション名]セクションに詳細を追加して」と依頼します

## ワークフロー概要

- **カスタムスラッシュコマンド**は複雑なプロンプトを簡単なショートカットに変えることで時間を節約します
- **引数**はさまざまな入力（株式ティッカー、トピック、ファイル）に対してコマンドを柔軟にします
- **Claudeがコマンドを構築**- 手動でMarkdownファイルを書く必要はありません。欲しいものを説明するだけです
- **コマンドは再利用可能**- 一度作成すれば、プロジェクトやセッション全体で使用できます
- **コマンドを組み合わせる**- さまざまなタスク用の専門的なコマンドのライブラリを構築します

---

[Steven Ge](https://www.linkedin.com/in/steven-ge-ab016947/)が2025年12月13日に作成。
